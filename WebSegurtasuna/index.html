<!DOCTYPE html>
<html lang="en">
<head>
    <title>Web Segurtasuna</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../ShowerTemplate/shower/themes/ribbon/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>
<body class="shower list">
    <header class="caption">
        <h1>Web Segurtasuna</h1>
        <p>Mikel Egaña Aranguren</p>
    </header>

    <section class="slide" id="cover">
        <h2>Web Segurtasuna</h2>
        <p>Mikel Egaña Aranguren</p>
        <p><a href="https://mikel-egana-aranguren.github.io/">mikel-egana-aranguren.github.io</a></p>
        <p><a href="mailto:mikel.egana@ehu.eus">mikel.egana@ehu.eus</a></p>
        <img src="../ShowerTemplate/pictures/ehu.png" alt="UPV/EHU ingenieros San Mames" height="25%" border="1px solid #555">
    </section>

    <section class="slide">
        <h2>Web Segurtasuna</h2>
        <p><a href="https://doi.org/10.5281/zenodo.4302267">https://doi.org/10.5281/zenodo.4302267</a></p>
        <p><a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">https://github.com/mikel-egana-aranguren/EHU-SGSSI-01</a></p>
        <img src="../ShowerTemplate/pictures/by.png" alt="Creative Commons BY" height="10%">
    </section>

    <section class="slide">
        <h2>Pen-testing</h2>
        Penetration testing: sistema batean erasotzaile potentzial baten tresna berberak erabiliz sartzen saiatzea, ahuleziak aurkitzeko eta konpontzeko<br><br>
    </section>


    <section class="slide">
        <h2>Urrakortasun nagusiak Web Sistemetan</h2>
        <a href="https://owasp.org/">Open Web Application Security Project (OWASP)</a> erakundeak urrakortasun ohikoenak aztertzen ditu<br><br>
        aldizkako txostena: OWASP Top Ten (<del>2017</del>, <a href="https://owasp.org/Top10/">2021</a>)
    </section>

    <section class="slide">
    <h2>Urrakortasun nagusiak Web Sistemetan</h2>
    <p><img  style="border: 1px solid #555;"  src="pictures-issks-31/owasp-top-10.png" alt="OWASP Top 10 2017 2021" width="90%"></p>
    </section>

    <section class="slide">
        <h2>Common Weakness Enumerations (CWEs)</h2>
        <p><a href="https://cwe.mitre.org/">https://cwe.mitre.org/</a></p>
    </section>

    <section class="slide">
        <h2>Urrakortasun nagusiak Web Sistemetan</h2>
        <ul>
            <li>Sarbide-kontrola apurtzea</li>
            <li>Akats kriptografikoak</li>
            <li>Injekzioa</li>
            <li>Diseinu insegurua</li>
            <li>Segurtasun-konfigurazio eskasa</li>
            <li>Osagai kalteberak eta zaharkituak</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Urrakortasun nagusiak Web Sistemetan</h2>
        <ul>
            <li>Identifikazio- eta autentifikazio-akatsak</li>
            <li>Akatsak datuen eta softwarearen osotasunean</li>
            <li>Akatsak segurtasunaren monitorizazioan</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea</h2>
         <a href="https://owasp.org/Top10/A01_2021-Broken_Access_Control/">Broken access control (A01:2021)</a>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea</h2>
        <p>Sarbide-kontrolaren ondorioz, definitutako baimenek ezarritako mugen barruan bakarrik jardun behar du erabiltzaileak</p>
        <p>Sarbide-kontrolean huts egiteak ondorio larriak dakartza</p>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: ahuleziak</h2>
        <p>"Ukatzea lehenetsia" printzipioa urratzea: sarbidea gaitasun, rol edo erabiltzaile jakin batzuei bakarrik bermatu beharko litzaieke, baina edozeinen esku dago</p>
        <p><img  style="border: 1px solid #555;"  src="pictures-issks-31/GAUR-guias-docentes-rotura-control-acceso.png" alt="En el mantenimiento de las guias docentes de GAUR el primer profesor que acceda a la guia, aunque no tenga permisos, se queda con la guia y la puede modificar si quiere" title="En el mantenimiento de las guias docentes de GAUR el primer profesor que acceda a la guia, aunque no tenga permisos, se queda con la guia y la puede modificar si quiere" width="70%"></p>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: ahuleziak</h2>
        <p>Sarbide-kontrola URL parametroen edo API eskaeren bidez saihestea</p>
        <p>Kontu pertsonal batera sartu eta datuak aldatu erabiltzailearen identifikatzailearekin</p>
        <p>API sarbidea kontrolik gabe HTTP POST, PUT, eta DELETE metodoetarako</p>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: ahuleziak</h2>
        <p><b>Pribilegioa igotzea:</b> administratzaile gisa jardutea, erabiltzaile gisa logeatuta egonik
        </p>
        <p>Replaying edo JSON Web Token (JWT) aldatzea pribilegioak igotzeko</p>
        <p>CORSen konfigurazio okerrak baimendu gabeko jatorrietatik APIra sartzeko aukera ematen du
        </p>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: ahuleziak</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/200.html">CWE-200: Exposure of Sensitive Information to an Unauthorized Actor</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/201.html">CWE-201: Insertion of Sensitive Information Into Sent Data</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/352.html">CWE-352: Cross-Site Request Forgery (CSRF)</a></li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: prebentzioa</h2>
        <p>Lehenetsitako ukapena baliabide guztietarako, publikoak izan ezik</p>
        <p>Kontrolerako sarbide-mekanismoak behin bakarrik ezartzea eta aplikazio osora zabaltzea, CORSen erabilera minimizatuz</p>
        <p>Direktorioen zerrendaketa ez baimentzea eta aplikazioaren root mailan metadatuen fitxategirik (adibidez, Git) edo backup-ik ez dagoela ziurtatzea</p>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: prebentzioa</h2>
        <p>Sartzeko ahalegin guztiak logeatzea, administratzaileak ohartaraztea beharrezkoa denean (adibidez, huts egindako sarbide asko)</p>
        <p>APIetan eskaeren tasa mugatzea, programen bidezko erasoak saihesteko</p>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: prebentzioa</h2>
        <p>Saioaren identifikatzaileak:
            <ul>
                <li>Zerbitzariarena (stateful): baliogabetzea deslogeatzean</li>
                <li>Stateless JWT tokens: oso bizitza laburra</li>
                <li>Denbora luzeagoko JWTrentzat, jarraitu <a href="https://oauth.net/">OAuth</a> protokoloa sarbidea baliogabetzeko</li>
            </ul>
        </p>
    </section>

    <section class="slide">
        <h2>Sarbide-kontrola apurtzea: adibidea</h2>
        <p>SQL deia kontuko informazioa lortzeko, egiaztatu gabeko datuekin:</p>
        <pre>
            <code>pstmt.setString(1, request.getParameter("acct"));</code>
            <code>ResultSet results = pstmt.executeQuery( );</code>
        </pre>
        <p>Erasotzaileak URL hau ikusi behar du soilik: <b>https://example.com/app/accountInfo?acct=notmyacct</b></p>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak</h2>
        <a href="https://owasp.org/Top10/A02_2021-Cryptographic_Failures/">Cryptographic Failures (A02:2021)</a>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak</h2>
        <p>Erabilitako metodo kriptografikoen akatsak, ondorioz datuak azaltzen direlarik</p>
        <p>Datuak babesteko beharrak zehaztea, bai transmisioan, bai biltegiratzean (At rest): datuak babesteko legeak</p>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak</h2>
        <p>Datuak testu lau gisa transmititzen dira? Kanpoko zein barruko konexioetan (adibidez, karga-balantzearen zerbitzariak): HTTP, SMTP, FTP ...</p>
        <p>Algoritmo edo protokolo zaharkituak edo ahulak erabiltzen dira?</p>
        <p>Gako ahulak edo gako lehenetsiak erabiltzen dira?</p>
        <p>Gakoen kudeaketa egokia erabiltzen da?</p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa</h2>
        Gako baten bizi-zikloa:
        <ol>
            <li>Sorkuntza</li>
            <li>Banaketa</li>
            <li>Erabilpena</li>
            <li>Biltegiratzea</li>
            <li>Errotazioa, ezeztapena, suntsipena</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: Sorkuntza</h2>
        <p>Algoritmo ahulak ekidin</p>
        <p>Key Generator edo entropia altuko Random Number Generator -ak erabili </p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: Banaketa</h2>
        <p>Man in the middle erasoak ekiditeko SSL/TLS bezalako konexio seguruak erabili</p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: Erabilpena</h2>
        <p>Baimendutako pertsonek soilik erabiltzen dituztela gakoak bermatu</p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: Biltegiratzea</h2>
        <p>Egokiena hardware dedikatua erabiltzea: <a href="https://en.wikipedia.org/wiki/Hardware_security_module">Hardware Security Module</a>:
            <ul>
                <li>Funtzionatzeari uzten diote sarbide fisiko bat dagoenean</li>
                <li>Estandar zorrotzak betetzen dituzte: <a href="https://csrc.nist.gov/publications/detail/fips/140/3/final">FIPS 140-2</a> (4 maila)</li>
            </ul>
        </p>
        <p>Hodeian ere zerbitzuak erabili daitezke: <a href="https://cloud.google.com/security-key-management">Google Cloud Key Management</a></p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: errotazioa</h2>
        <p>Gako batek bere balio-aldia amaitzen duenean, kendu egiten da, datuak deszifratu eta berriro zifratzen direlarik gako berri batekin
        </p>
        <p>Zenbat eta denbora gehiago egon gakoren bat zirkulazioan, orduan eta arriskutsuagoa izango da</p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: ezeztapena edo suntsiketa</h2>
        <p>Gako bat konprometitua izan bada, ezeztatu egin behar da, nahiz eta baliozkotasun-epearen barruan egon</p>
        <p>Ezeztatutako gakoa gordetzea eskatzen duten estandarrak daude, etorkizunean datuak deszifratzeko behar izanez gero (adibidez, epaiketa batean)</p>
        <p>Gakoa erabat suntsitu: etorkizunean ezin da erabili</p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: jardunbide egokiak</h2>
        <p>Ez idatzi gakoaren balioak software-kodean, nahiz eta segurua izan</p>
        <p>Pribilegio txikienaren printzipioa: erabiltzaile batek benetan behar dituen gakoetarako sarbidea soilik izan beharko luke</p>
        <p>HSM-ak erabili</p>
    </section>

    <section class="slide">
        <h2>Gakoen kudeaketa: jardunbide egokiak</h2>
        <p>Gakoen kudeaketa ahalik eta gehien automatizatu</p>
        <p>Sorkuntza, Banaketa etab. pertsona desberdinen artean banatu</p>
        <p>Gakoak zatietan banatu</p>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak</h2>
        <p>Zerbitzariaren ziurtagiria baliozkoa eta konfiantzazkoa da, eta CA batek bermatzen du?</p>
        <p>Erabiltzaileen pasahitzak zuzenean gako gisa erabiltzen al dira, Pasword Based Key Derivation Functions (PBKDFs) erabili beharrean?</p>
        <p>Ausazkotasun-hazia behar bezain indartsua al da?</p>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak: prebentzioa</h2>
        <p>Transmititutako, prozesatutako eta biltegiratutako datuak pribatutasun-mailaren arabera sailkatu</p>
        <p>Ahalik eta datu pribatu gutxien biltegiratzea, nahiz eta <a href="https://www.securitymetrics.com/blog/what-tokenization-and-how-can-i-use-it-pci-dss-compliance">Tokenizazioa</a> bezalako metodoak erabili</p>
        <p>Biltegiratutako datu guztiak zifratu (Encription at rest)</p>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak: prebentzioa</h2>
        <p>Algoritmo eguneratuak (MD5, SHA1, ... ez), gako indartsuak, eta Gakoen kudeaketa erabili</p>
        <p>transmititzen diren datua guztiak zifratu TLS FS bidez (TLS + Forward Secrecy)</p>
        <p>Bezeroan datu berezientzako ez baimendu cache-en erabilpena</p>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak: prebentzioa</h2>
        <p>Pasahitzak hash eta gatzarekin biltegiratu</p>
        <p>Entropia handiena duten haziak erabili</p>
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak: adibideak</h2>
        <p>Aplikazio batek datuak enkriptatzeko datu-basearen funtzio lehenetsia erabiltzen du. Hala ere, datu horiek automatikoki desenkriptatzen dira kontsultatzean, eta sarbidea ahalbidetzen da, adibidez, SQL injekzio eraso bat badago</p> 
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak: adibideak</h2>
        <p>Web orrialde batek ez du TLS erabilpena derrigortzen. Erasotzaile batek trafikoa monitorizatzen badu eta konexio bat HTTPStik HTTPera "jaisten" badu, kontsultak eten eta erabiltzailearen saioko cookiea lor dezake. Erasotzaileak cookiea (replay) birbidaltzen du erabiltzailearen saioa bahituz eta erabiltzaile-datuetarako sarbidea lortuz</p>
        <p>Datu baseak gatz gabeko hash-ak erabiltzen ditu. Erasotzaile batek hash-ak prekalkulatu ditzake <a href="https://en.wikipedia.org/wiki/Graphics_processing_unit">GPU</a>-ak erabiliz</p>  
    </section>

    <section class="slide">
        <h2>Akats kriptografikoak: ahuleziak</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/259.html">CWE-259: Use of Hard-coded Password</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/327.html">CWE-327: Broken or Risky Crypto Algorithm</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/331.html">CWE-331: Insufficient Entropy</a></li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Injekzioa</h2>
         <a href="https://owasp.org/Top10/A03_2021-Injection/">Injection (A03:2021)</a>
    </section>

    <section class="slide">
        <h2>Injekzioa</h2>
        Aplikazio ahula da baldin eta:
        <ul>
            <li>Erabiltzaileak ematen dituen datuak ez dira balioztatzen, iragazten edo garbitzen</li>
            <li>Interpreteak zuzenean kontsulta dinamikoak edo parametrizatu gabeko deiak erabiltzen ditu, "escaping" ik gabe</li>
            <li>Erabiltzaileak sartutako datu okerrak zuzenean erabiltzen dira. SQL sententziak edo erabiltzen diren komandoak egitura/datu maltzurrak ditu kontsulta dinamikoetan, komandoetan edo biltegiratutako prozeduretan
            </li>
        </ul>

    </section>

    <section class="slide">
        <h2>SQL injekzioa</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-issks-31/boy.png" alt="Bobby tables" width="90%"></p>
        <p style="text-align:left;font-size:30%;"><a href="https://xkcd.com/327/">https://xkcd.com/327/</a></p>
    </section>

    <section class="slide">
        <h2>SQL injekzioa</h2>
        <pre><code>
txtUserId = getRequestString("UserId");
txtSQL = "SELECT * FROM Users 
WHERE UserId = " + txtUserId;
        </code></pre> 
    </section>

    <section class="slide">
        <h2>SQL injekzioa</h2>
        Input web: <code>105 OR 1=1</code>
        <pre><code>SELECT * FROM Users WHERE UserId = 105 OR 1=1;
        </code></pre>
        OR 1 = 1 beti da true, Users zutabeko lerro guztiak itzuliko ditu
    </section>

    <section class="slide">
        <h2>Parametrizatutako kontsultak</h2>
        <p>Parametroak: exekutatzean kontsultari gehitzen zaizkion eta hitzez hitz aztertzen diren balioak (adibidez, aldagaiak zutabe-izenak aipatzen baditu, interpreteak ziurtatzen du parametroak zutabe-izenak direla kontsultara gehitu eta exekutatu aurretik) </p>   
    </section>

    <section class="slide">
        <h2>Parametrizatutako kontsultak</h2>
        <pre><code>
$stmt = $dbh->prepare("INSERT INTO Customers 
(CustomerName,Address,City) 
VALUES (:nam, :add, :cit)");
$stmt->bindParam(':nam', $txtNam);
$stmt->bindParam(':add', $txtAdd);
$stmt->bindParam(':cit', $txtCit);
$stmt->execute();
        </code></pre>    
    </section>

    <section class="slide">
        <h2>Object-Relational Mapping (ORM)</h2>
        <p>Datu-basearen edukia objektuetara itzultzen duten framework-ak</p>
        <p>Ez dago datu-basearekin konexio zuzenik</p>
    </section>

    <section class="slide">
        <h2>Object-Relational Mapping (ORM)</h2>
        <pre><code>
String sql = "SELECT ... FROM persons WHERE id = 10"
DbCommand cmd = new DbCommand(connection, sql);
Result res = cmd.Execute();
String name = res[0]["FIRST_NAME"];
Person p = repository.GetPerson(10);
String name = p.FirstName;
        </code></pre>
    </section>

    <section class="slide">
        <h2>Injekzioa: ahuileziaren detekzioa</h2>
        <p>Iturburu-kodea berrikustea</p>
        <p>HTTP goiburuen, URL-en, Cookie-en, JSON, XML eta web input-en testatze automatizatua</p>
        <p>Application Security Testing erabili <a href="https://github.com/mikel-egana-aranguren/Transparent-Relations-Ontology/blob/main/.github/workflows/robot.yml">Continous Integration</a>/Continous Deployment prozesutan</p>
        
    </section>

    <section class="slide">
        <h2>Injekzioa: prebentzioa</h2>
        <p>Interpretea erabiltzen ez duten API seguruak erabiltzea. Ezin bada, dei parametrizatuak edo ORMak erabili</p>
        <p>Input-ak balioztatu</p>
        <p>Ahal diren karaktere berezi guztiak "Escape"-atu</p>
        <p>SQLn LIMIT bezalako kontrolak erabiltzea, datuen galera masiboa saihesteko</p>        
    </section>

    <section class="slide">
        <h2>Injekzioa</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/79.html">CWE-79: Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/89.html">CWE-89: Improper Neutralization of Special Elements used in an SQL Command ('SQL Injection')</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/73.html">CWE-73: External Control of File Name or Path</a></li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Diseinu insegurua</h2>
         <a href="https://owasp.org/Top10/A04_2021-Insecure_Design/">Insecure Design (A04:2021)</a>
    </section>

    <section class="slide">
        <h2>Diseinu insegurua</h2>
        <p>Arkitektura akatsak, kodea inplementatu baino aurrekoak</p>
    </section>

    <section class="slide">
        <h2>Software Assurance Maturity Model</h2>
        <p><a href="https://owaspsamm.org/">https://owaspsamm.org/</a></p>
        <p><a href="SAMM-v2-PDF.pdf">SAMM-v2-PDF.pdf</a></p>
    </section>

    <section class="slide">
        <h2>Diseinu insegurua: adibideak</h2>
        <p>e-commerce kate batek erosleen eskaera asko jaso ditzake boten bidez, produktuak beste leku batzuetan saltzeko. Hori ekidin daiteke, adibidez, arkitekturan botak detektatzen dituzten osagaiak gehituz (Eskaera asko denbora gutxian, produktu bat argitaratzeko segundo gutxiren buruan egindako eskaera, eta abar).
        </p>
    </section>

    <section class="slide">
        <h2>Diseinu insegurua</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/209.html">CWE-209 Generation of Error Message Containing Sensitive Information</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/256.html">CWE-256 Unprotected Storage of Credentials</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/501.html">CWE-501 Trust Boundary Violation</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/522.html">CWE-522 Insufficiently Protected Credentials</a></li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Segurtasun-konfigurazio eskasa</h2>
         <a href="https://owasp.org/Top10/A05_2021-Security_Misconfiguration/">Security Misconfiguration (A05:2021)</a>
    </section>

    <section class="slide">
        <h2>Segurtasun-konfigurazio eskasa</h2>
        Aplikazioa zaurgarria izan liteke baldin eta:
        <ul>
            <li>Hodei zerbitzu batean baimen desegokiak dauzka</li>
            <li>Beharrezkoak ez diren funtzioak aktibaturik daude (Portuak, zerbitzuak, orrialdeak, kontuak, baimenak)</li>
            <li>Lehenetsitako kontuek eta pasahitzek aktibo jarraitzen dute</li>
            <li>Erroreen kudeaketak informazioa azaleratzen du (adib. stack traces Java salbuespenetan) / erroreek informazio gehiegi ematen dute</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Segurtasun-konfigurazio eskasa</h2>
        Aplikazioa zaurgarria izan liteke baldin eta:
        <ul>
            <li>Sistema eguneratuetarako, azken segurtasun-adabakiak ez daude aktibo eta/edo behar bezala konfiguratuta</li>
            <li>Frameworketako (Struts, Spring, ASP.net,...), liburutegietako, datu-baseetako, ...segurtasun-aukerak ez daude aktibatuta.</li>
            <li>Zerbitzariak ez du <a href="https://web.dev/security-headers/">segurtasuna HTTP goiburuekin</a> erantzuten</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Segurtasun-konfigurazio eskasa: prebentzioa</h2>
        <ul>
            <li>
                Garapen automatizatuko sistema, non ingurune seguruagoa hedatzea erraza den. Garapen-, kalitate- eta ekoizpen-inguruneek konfigurazio bera izan beharko lukete, kredentzialek ezik. Prozesu horrek ahalik eta automatizatuena izan beharko luke, ingurune seguru berri bat ahalik eta azkarren sortzeko
                </li>
            <li>Sistema minimalista, osagai eta funtzio gehigarririk gabe</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Segurtasun-konfigurazio eskasa</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/16.html">CWE-16 Configuration</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/611.html">CWE-611 Improper Restriction of XML External Entity Reference</a></li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Osagai kalteberak eta zaharkituak</h2>
         <a href="https://owasp.org/Top10/A06_2021-Vulnerable_and_Outdated_Components/">Vulnerable and Outdated Components (A06:2021)</a>
    </section>

    <section class="slide">
        <h2>Osagai kalteberak eta zaharkituak</h2>
        Aplikazioa zaurgarria izan liteke baldin eta:
        <ul>
            <li>Ez dakizkigu osagaien bertsio zehatzak (Beti darabilgu "latest"), zuzenean erabiltzen ditugun osagaietan eta berauen dependentzietan</li>
            <li>Si el software no tiene soporte, es vulnerable, u obsoleto. Esto incluye al sistema operativo, servidor web, sistema de gestión de bases de datos, APIs y sus componentes, entornos de ejecución, y librerías</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Osagai kalteberak eta zaharkituak</h2>
        Aplikazioa zaurgarria izan liteke baldin eta:
        <ul>
            <li>Ez baduzu zure sistema aldizka eskaneatzen urrakortasunak bilatzeko, eta ez bazaude harpidetuta erabiltzen dituzun osagaiei buruzko segurtasun-buletinetara</li>
            <li>Osagaiak arriskuan oinarritutako maiztasunez eguneratzen ez badituzu. Hori oso ohikoa da hilean behin adabakiak aplikatzeko politikak dituzten erakunde handietan, sistema kaltebera delarik egun batzutan</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Osagai kalteberak eta zaharkituak: prevención</h2>
        Adabakiak aplikatzeko prozesu bat egon beharko litzateke:
        <ul>
            <li>Quitar dependenicas que no se usan, funcionalidades, componentes, archivos, innecesarios, etc</li>
            <li>Tener un inventario actualizado de componentes en servidor y cliente, incluyendo sus dependencias, de manera automatizada. Visitar regularmente recursos como CVE para encontrar vulnerabilidades en esos componentes</li>
            <li>Obtener componentes solo de fuentes oficiales y firmados</li>

        </ul>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak</h2>
         <a href="https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/">Identification and Authentication Failures (A07:2021)</a>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak</h2>
        <p>La confirmación de identidad de usuarios, autenticación, y la gestión de sesiones son funciones críticas para proteger al sistema contra ataques basado en autenticación</p>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak</h2>
        Puede haber vulnerabilidaes relacionadas con la autenticación si:
        <ul>
            <li>Permite ataque automatizados como el <a href="https://www.cloudflare.com/learning/bots/what-is-credential-stuffing/">Credential Stuffing</a> en los que un atacante tiene una lista de usuarios y contraseñas válidos</li>
            <li>Permite ataques de fuerza bruta</li>
            <li>Permite contraseñas por defecto, débiles o muy conocidas (ej. admin test)</li>
            <li>Usa mecanismos débiles para la recuperación de contraseñas, como el responder ciertas preguntas</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak</h2>
        Puede haber vulnerabilidaes relacionadas con la autenticación si:
        <ul>
            <li>Almacena las contraseñas en texto plano, o con hashes débiles</li>
            <li>No usa autenticacion multi-factor</li>
            <li>Expone identificadores de sesión en la URL</li>
            <li>No invalida sesiones despues de logout o inactividad</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak: prevención</h2>

        <ul>
            <li>Si es posible implementar autenticación multi-factor</li>
            <li>No hacer despliegues con credenciales por defecto, especialmente para usuarios admin</li>
            <li>Implementar validaciones "ligeras" de contraseñas, como buscar las contraseñas en la lista de las 10.000 peores contraseñas</li>
            <li>Tener una buena política de tamaño de contraseñas, complejidad y rotación de contraseñas</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak: prevención</h2>

        <ul>
            <li>Limitar o retrasar los intentos fallidos de login, pero sin crear una situación de denegación de servicio. Logear todos los intentos fallidos y alertar a los administradores si hay ataques de credential stuffing</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak: prevención</h2>

        <ul>
            <li>Usar un gestor de sesiones en el lado de servidor que sea seguro y esté implementado junto con la aplicación. Debe generar un identificador de sesión aleatorio de gran entropia despues del login. Los identificadores de sesion no deberian estar en la URL, sino almacenados de manera segura. Los identificadores deberían ser invalidados inmediatamente despues del logout o inactividad</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Identifikazio- eta autentifikazio-akatsak</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/297.html">CWE-297: Improper Validation of Certificate with Host Mismatch</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/287.html">CWE-287: Improper Authentication</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/384.html">CWE-384: Session Fixation</a></li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Akatsak datuen eta softwarearen osotasunean</h2>
         <a href="https://owasp.org/Top10/A08_2021-Software_and_Data_Integrity_Failures/">Software and Data Integrity Failures (A08:2021)</a>
    </section>

    <section class="slide">
        <h2>Akatsak datuen eta softwarearen osotasunean</h2>
        <p>Se dan cuando hay código e infraestructura que no protege contra violaciones de su integridad</p>
        <p>Por ejemplo si una aplicación depende de librerías, plugins o módulos que han sido obtenidos de fuentes sin confianza, repositorios, o <a href="https://en.wikipedia.org/wiki/Content_delivery_network">CDNs (Content Delivery Networks)</a></p>
    </section>

    <section class="slide">
        <h2>Akatsak datuen eta softwarearen osotasunean</h2>
        <p>Un pipeline de integración continua o despliegue continuo (IC/DC) puede introducir código malicioso</p>
        <p>Muchas aplicaciones incluyen funciones de auto-actualización sin los debidos tests de integridad</p>
        <p><a href="https://cheatsheetseries.owasp.org/cheatsheets/Deserialization_Cheat_Sheet.html">Des-serialización insegura</a></p>
    </section>

    <section class="slide">
        <h2>Akatsak datuen eta softwarearen osotasunean: prevención</h2>
        <p>Usar firmas digitales o mecanismos similares para verificar que el software es de la fuente oficial y no ha sido alterado</p>
        <p>Asegurarse de que las gestores de librerías como <a href="https://www.npmjs.com/">NPM</a> o <a href="https://maven.apache.org/">Apache Maven</a> usan fuentes de fiar. Valorar alojar repositorios propios con mayor seguridad (ej. <a href="https://www.sonatype.com/products/nexus-repository">Nexus</a>)</p>
    </section>

    <section class="slide">
        <h2>Akatsak datuen eta softwarearen osotasunean: prevención</h2>
        <p>Asegurarse de que los pipelines IC/DC tienen una configuración y control de acceso adecuados para asegurar la integridad del codigo en todo el proceso</p>
        <p>Asegurarse de que no se envia datos serializados sin firmar o cifrar a clientes sin confianza sin algun tipo de validación de integridad para detectar modificación o un replay de los datos des-serializados</p>
    </section>

    <section class="slide">
        <h2>Akatsak datuen eta softwarearen osotasunean: ejemplos de escenarios de ataque</h2>
        <p>Muchos routers para el hogar aplican actualizaciones de firmware sin verificar. Se espera que los ataques a estos  aumenten en los proximos años</p>
        <p><a href="https://www.cvedetails.com/cve/CVE-2020-10148/">Solar Winds Orion attack</a> (Alcanzó a unas 18.000 organizaciones en todo el mundo)</p>
        <p></p>
    </section>

    <section class="slide">
        <h2>Akatsak datuen eta softwarearen osotasunean</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/829.html">
                CWE-829: Inclusion of Functionality from Untrusted Control Sphere</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/494.html">CWE-494: Download of Code Without Integrity Check</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/502.html">CWE-502: Deserialization of Untrusted Data</a></li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Akatsak segurtasunaren monitorizazioan</h2>
         <a href="https://owasp.org/Top10/A09_2021-Security_Logging_and_Monitoring_Failures/">Security Logging and Monitoring Failures (A09:2021)</a>
    </section>
    
    <section class="slide">
        <h2>Akatsak segurtasunaren monitorizazioan</h2>
        No hay una monitorización adecuada si:
        <ul>
            <li>Los eventos auditables tales como logins, logins fallidos, o transacciones de alto valor no son almacenados en un log (registro)</li>
            <li>Los errores y advertencias generan mensajes inadecuados en los logs (O no los generan)</li>
            <li>Los logs de las APIs y las aplicaciones no se monitorizan para detectar comportamiento sospechoso</li>
            <li>Los logs solo se almacenan en local</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Akatsak segurtasunaren monitorizazioan</h2>
        No hay una monitorización adecuada si:
        <ul>
            <li>No hay procesos de respuesta automáticos a partir de ciertos umbrales</li>
            <li>El pen-testing con herramientas como OWASP ZAP no genera alertas</li>
            <li>La aplicación no es capaz de detectar o alertar sobre ataques en marcha en tiempo real</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Akatsak segurtasunaren monitorizazioan: prevención</h2>
        <ul>
            <li>Asegurarse de que todos los fallos de login, control de acceso, o validación de inputs son registrados en el log con suficiente contexto de usuario para poder identificar cuentas sospechosas y almacenados con suficiente tiempo para hacer un análisis forense</li>
            <li>Asegurarse de que los logs son generados de tal manera que las soluciones automatizadas pueden consumirlos facilmente</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Akatsak segurtasunaren monitorizazioan: prevención</h2>
        <ul>
            <li>Asegurarse de que las transacciones de gran valor tienen un adecuado registro de procedencia con controles de integridad para prevenir modificaciones </li>
            <li>Establecer e implementar un plan de respuesta y recuperación, probándolo periodicamente</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Akatsak segurtasunaren monitorizazioan</h2>
        <ul>
            <li><a href="https://cwe.mitre.org/data/definitions/117.html">CWE-117: Improper Output Neutralization for Logs</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/223.html">CWE-223: Omission of Security-relevant Information</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/532.html">CWE-532: Insertion of Sensitive Information into Log File</a></li>
            <li><a href="https://cwe.mitre.org/data/definitions/778.html">CWE-778: Insufficient Logging</a></li>
        </ul>
    </section>





    
    <!-- FOOTER -->

    <footer class="badge">
        <a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="../ShowerTemplate/shower/shower.js"></script>
    <!-- Copyright © 3000 Yours Truly, Famous Inc. -->

</body>
</html>
